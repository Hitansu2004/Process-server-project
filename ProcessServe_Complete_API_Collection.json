{
    "info": {
        "_postman_id": "processserve-complete-api",
        "name": "ProcessServe Complete API Collection",
        "description": "Complete API collection for ProcessServe multi-tenant SaaS platform with all workflows",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "1. Authentication",
            "item": [
                {
                    "name": "Register Customer",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('newToken', jsonData.token);",
                                    "    pm.environment.set('newUserId', jsonData.userId);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"newcustomer@example.com\",\n  \"password\": \"Password123!\",\n  \"firstName\": \"New\",\n  \"lastName\": \"Customer\",\n  \"phoneNumber\": \"+1-555-9999\",\n  \"tenantId\": \"550e8400-e29b-41d4-a716-446655440001\",\n  \"role\": \"CUSTOMER\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/auth/register",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "auth",
                                "register"
                            ]
                        }
                    }
                },
                {
                    "name": "Login Customer",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('customerToken', jsonData.token);",
                                    "    pm.environment.set('customerId', jsonData.userId);",
                                    "    console.log('Customer token saved:', jsonData.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"customer1@example.com\",\n  \"password\": \"Password123!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/auth/login",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Login Delivery Person",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('driverToken', jsonData.token);",
                                    "    pm.environment.set('driverId', jsonData.userId);",
                                    "    console.log('Driver token saved:', jsonData.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"driver1@example.com\",\n  \"password\": \"Password123!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/auth/login",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Login Admin",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('adminToken', jsonData.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"owner@processserve-ny.com\",\n  \"password\": \"Password123!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/auth/login",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Login Super Admin",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('superAdminToken', jsonData.token);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@processserve.com\",\n  \"password\": \"Password123!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/auth/login",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "2. Orders",
            "item": [
                {
                    "name": "Create Order (Single Dropoff)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('orderId', jsonData.id);",
                                    "    if (jsonData.dropoffs && jsonData.dropoffs.length > 0) {",
                                    "        pm.environment.set('dropoffId', jsonData.dropoffs[0].id);",
                                    "    }",
                                    "    console.log('Order ID saved:', jsonData.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"tenantId\": \"550e8400-e29b-41d4-a716-446655440001\",\n  \"customerId\": \"850e8400-e29b-41d4-a716-446655440001\",\n  \"pickupAddress\": \"123 Main Street, New York, NY\",\n  \"pickupZipCode\": \"10001\",\n  \"specialInstructions\": \"Ring doorbell twice\",\n  \"deadline\": \"2024-12-31T17:00:00\",\n  \"dropoffs\": [\n    {\n      \"recipientName\": \"John Smith\",\n      \"dropoffAddress\": \"456 Park Avenue, New York, NY\",\n      \"dropoffZipCode\": \"10003\"\n    }\n  ]\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/orders",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Order (Multiple Dropoffs)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"tenantId\": \"550e8400-e29b-41d4-a716-446655440001\",\n  \"customerId\": \"850e8400-e29b-41d4-a716-446655440001\",\n  \"pickupAddress\": \"789 Broadway, New York, NY\",\n  \"pickupZipCode\": \"10002\",\n  \"specialInstructions\": \"Call upon arrival\",\n  \"deadline\": \"2024-12-30T16:00:00\",\n  \"dropoffs\": [\n    {\n      \"recipientName\": \"Jane Doe\",\n      \"dropoffAddress\": \"321 5th Avenue, New York, NY\",\n      \"dropoffZipCode\": \"10016\"\n    },\n    {\n      \"recipientName\": \"Bob Johnson\",\n      \"dropoffAddress\": \"654 Madison Ave, New York, NY\",\n      \"dropoffZipCode\": \"10022\"\n    },\n    {\n      \"recipientName\": \"Sarah Williams\",\n      \"dropoffAddress\": \"987 Lexington Ave, New York, NY\",\n      \"dropoffZipCode\": \"10021\"\n    }\n  ]\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/orders",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Order by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/orders/{{orderId}}",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "{{orderId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Customer Orders",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/orders/customer/850e8400-e29b-41d4-a716-446655440001",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "customer",
                                "850e8400-e29b-41d4-a716-446655440001"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Delivery Person Orders",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/orders/delivery-person/950e8400-e29b-41d4-a716-446655440001",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "delivery-person",
                                "950e8400-e29b-41d4-a716-446655440001"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "3. Bids",
            "item": [
                {
                    "name": "Place Bid",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.environment.set('bidId', jsonData.id);",
                                    "    console.log('Bid ID saved:', jsonData.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"orderId\": \"{{orderId}}\",\n  \"deliveryPersonId\": \"950e8400-e29b-41d4-a716-446655440001\",\n  \"bidAmount\": 150.00,\n  \"comment\": \"I can deliver within 24 hours!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/bids",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "bids"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Bids for Order",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/bids/order/{{orderId}}",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "bids",
                                "order",
                                "{{orderId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Delivery Person Bids",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/bids/delivery-person/950e8400-e29b-41d4-a716-446655440001",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "bids",
                                "delivery-person",
                                "950e8400-e29b-41d4-a716-446655440001"
                            ]
                        }
                    }
                },
                {
                    "name": "Accept Bid",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/bids/{{bidId}}/accept",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "bids",
                                "{{bidId}}",
                                "accept"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "4. Delivery Attempts",
            "item": [
                {
                    "name": "Record Attempt 1 - Failed",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"dropoffId\": \"{{dropoffId}}\",\n  \"deliveryPersonId\": \"950e8400-e29b-41d4-a716-446655440001\",\n  \"wasSuccessful\": false,\n  \"outcomeNotes\": \"Recipient not home\",\n  \"gpsLatitude\": 40.7580,\n  \"gpsLongitude\": -73.9855,\n  \"photoProofUrl\": \"https://example.com/attempt1.jpg\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/orders/attempts",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "attempts"
                            ]
                        }
                    }
                },
                {
                    "name": "Record Attempt 2 - Failed",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"dropoffId\": \"{{dropoffId}}\",\n  \"deliveryPersonId\": \"950e8400-e29b-41d4-a716-446655440001\",\n  \"wasSuccessful\": false,\n  \"outcomeNotes\": \"No answer at door\",\n  \"gpsLatitude\": 40.7580,\n  \"gpsLongitude\": -73.9855\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/orders/attempts",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "attempts"
                            ]
                        }
                    }
                },
                {
                    "name": "Record Attempt 3 - Success",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"dropoffId\": \"{{dropoffId}}\",\n  \"deliveryPersonId\": \"950e8400-e29b-41d4-a716-446655440001\",\n  \"wasSuccessful\": true,\n  \"outcomeNotes\": \"Successfully delivered\",\n  \"gpsLatitude\": 40.7580,\n  \"gpsLongitude\": -73.9855,\n  \"photoProofUrl\": \"https://example.com/delivered.jpg\",\n  \"signatureUrl\": \"https://example.com/signature.jpg\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/orders/attempts",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "orders",
                                "attempts"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "5. User Profiles",
            "item": [
                {
                    "name": "Get Delivery Person Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{driverToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/delivery-persons/950e8400-e29b-41d4-a716-446655440001",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "delivery-persons",
                                "950e8400-e29b-41d4-a716-446655440001"
                            ]
                        }
                    }
                },
                {
                    "name": "Update Red Zone Status",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{adminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"isRedZone\": true\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/delivery-persons/950e8400-e29b-41d4-a716-446655440001/red-zone",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "delivery-persons",
                                "950e8400-e29b-41d4-a716-446655440001",
                                "red-zone"
                            ]
                        }
                    }
                },
                {
                    "name": "Add Rating",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"orderId\": \"{{orderId}}\",\n  \"customerId\": \"850e8400-e29b-41d4-a716-446655440001\",\n  \"deliveryPersonId\": \"950e8400-e29b-41d4-a716-446655440001\",\n  \"ratingValue\": 5,\n  \"reviewText\": \"Excellent service!\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/delivery-persons/ratings",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "delivery-persons",
                                "ratings"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "6. Tenants",
            "item": [
                {
                    "name": "Get All Tenants",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{superAdminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/tenants",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "tenants"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Tenant by ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{superAdminToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/tenants/550e8400-e29b-41d4-a716-446655440001",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "tenants",
                                "550e8400-e29b-41d4-a716-446655440001"
                            ]
                        }
                    }
                },
                {
                    "name": "Create Tenant",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{superAdminToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"New Process Service\",\n  \"domainUrl\": \"newprocess.com\",\n  \"contactEmail\": \"contact@newprocess.com\"\n}"
                        },
                        "url": {
                            "raw": "http://localhost:8080/api/tenants",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "tenants"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "7. Notifications",
            "item": [
                {
                    "name": "Get All Notifications",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/notifications/user/650e8400-e29b-41d4-a716-446655440004",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "notifications",
                                "user",
                                "650e8400-e29b-41d4-a716-446655440004"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Unread Notifications",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/notifications/user/650e8400-e29b-41d4-a716-446655440004/unread",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "notifications",
                                "user",
                                "650e8400-e29b-41d4-a716-446655440004",
                                "unread"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Unread Count",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{customerToken}}"
                            }
                        ],
                        "url": {
                            "raw": "http://localhost:8080/api/notifications/user/650e8400-e29b-41d4-a716-446655440004/unread-count",
                            "protocol": "http",
                            "host": [
                                "localhost"
                            ],
                            "port": "8080",
                            "path": [
                                "api",
                                "notifications",
                                "user",
                                "650e8400-e29b-41d4-a716-446655440004",
                                "unread-count"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}